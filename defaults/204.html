<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>File deleted</title>
	<style>
		body { font-family: Arial, sans-serif; text-align: center; }
		ul { list-style: none; padding: 0; }
		li { margin: 10px 0; }
		.hidden { display: none; }
	</style>
</head>
<body>
	<h1>File deleted</h1>
	<p id="no-files">No files uploaded</p>
	<ul id="file-list" class="hidden"></ul>
	<br>
	<a href="index.html">Back to Home</a>

<!-- 	<script>
		fetch('/list-uploads') // Endpoint to get uploaded files
			.then(response => response.json())
			.then(files => {
				const fileList = document.getElementById("file-list");
				const noFilesMessage = document.getElementById("no-files");

				if (files.length > 0) {
					noFilesMessage.classList.add("hidden");
					fileList.classList.remove("hidden");

					files.forEach(file => {
						const li = document.createElement("li");
						
						// Create file link
						const link = document.createElement("a");
						link.href = `/upload/${file}`;
						link.textContent = file;
						link.target = "_blank";
						
						// Create delete button
						const deleteBtn = document.createElement("button");
						deleteBtn.textContent = "Delete";
						deleteBtn.onclick = () => {
							fetch(`/delete-upload?file=${file}`, { method: 'DELETE' })
								.then(response => response.json())
								.then(result => {
									if (result.success) {
										li.remove();
										if (fileList.children.length === 0) {
											noFilesMessage.classList.remove("hidden");
										}
									} else {
										alert("Failed to delete file");
									}
								});
						};
						
						li.appendChild(link);
						li.appendChild(deleteBtn);
						fileList.appendChild(li);
					});
				}
			});
	</script> -->
</body>
</html>